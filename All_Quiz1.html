<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quiz Hub</title>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black">
  <div id="root"></div>

  <script type="text/babel">

    const { useState, useEffect } = React;

    const QuizApp = () => {
      const [subjects, setSubjects] = useState([]);
      const [loading, setLoading] = useState(true);

      const username = "DineshAS96";
      const allowedRepos = [
        "CA_Mag","NCERTTest","NCERTJS","RS_Sharma_Test",
        "Vocab","UPSCP","History","Env_Test","Polity_Test"
      ];

      useEffect(() => {
        fetch(`https://api.github.com/users/${username}/repos?per_page=100`)
          .then(res => res.json())
          .then(data => {
            const filtered = data.filter(r => allowedRepos.includes(r.name));
            setSubjects(filtered);
            setLoading(false);
          });
      }, []);

      if (loading) {
        return (
          <div className="h-screen flex items-center justify-center text-white text-2xl">
            Loading...
          </div>
        );
      }

      return (
        <div className="min-h-screen p-6 text-white">
          <h1 className="text-4xl font-bold mb-6">Quiz Hub</h1>

          <div className="grid md:grid-cols-3 gap-4">
            {subjects.map(repo => (
              <a
                key={repo.id}
                href={repo.html_url}
                target="_blank"
                className="p-4 bg-white/10 rounded-xl hover:bg-white/20"
              >
                {repo.name.replaceAll("_"," ")}
              </a>
            ))}
          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById("root"))
      .render(<QuizApp />);

  </script>
</body>
</html>
